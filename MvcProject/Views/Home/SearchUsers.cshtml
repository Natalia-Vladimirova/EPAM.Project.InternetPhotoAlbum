@model MvcProject.Models.UsersViewModel

@{
    ViewBag.Title = "Search";
}
<h2>@ViewBag.Title</h2>

<div class="row col-md-12 form-inline">
    @using (Ajax.BeginForm("SearchUsers", "Home",
        new AjaxOptions {
            UpdateTargetId = "foundUsers",
            LoadingElementId = "loading",
            InsertionMode = InsertionMode.Replace,
            HttpMethod = "post" 
        }))
    {
        <div class="form-group">
            <input type="text" class="form-control" name="firstName" value="@ViewBag.FirstName" placeholder="Enter first name" />
        </div>
        <div class="form-group">
            <input type="text" class="form-control" name="lastName" value="@ViewBag.LastName" placeholder="Enter last name" />
        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-gray">
                <span class="glyphicon glyphicon-search"></span>
                Search
            </button>
        </div>
        <div class="form-group">
            <div id="loading" style="display:none">
                <img src="~/Content/loader.gif" alt="loading..." />
            </div>
        </div>
    }
    <br />
</div>
<div id="foundUsers">
    @Html.Partial("_FoundUsers", Model)
</div>


@section scripts
{
    @Scripts.Render("~/bundles/jqueryval")
}